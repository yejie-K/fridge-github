{"version":3,"file":"pages/index/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AAAA;AAEA;AACA;AAAA;AAAA;AAGA;AAAA;AAGA;AACA;AAAA;AAEA;AAAA;AAEA;AAAA;AACA;AACA;AAKA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAMA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAIA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAMA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAAA;AACA;AAGA;;;;;;;;;;;;;;;;;;;AC7MA;AACA;AACA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAGA;AACA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAIA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAIA;AACA;AAIA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AAIA;AAAA;AAEA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;;ACvHA;AACA;AACA;AACA;AAAA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAGA;AAAA;AAEA;AAAA;AACA;AAKA;AAAA;AACA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AAIA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAGA;;;;;;;;;;;;;AC5IA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA","sources":["webpack://smart-fridge-mini/._src_pages_index_index.tsx","webpack://smart-fridge-mini/._src_components_AddItemModal.tsx","webpack://smart-fridge-mini/._src_components_InventoryItemCard.tsx","webpack://smart-fridge-mini/._src_constants_icons.ts","webpack://smart-fridge-mini/./src/pages/index/index.tsx?743a","webpack://smart-fridge-mini/._src_types.ts","webpack://smart-fridge-mini/._src_utils_common.ts"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react'\nimport { View, Text, Input, ScrollView } from '@tarojs/components'\nimport Taro from '@tarojs/taro'\nimport { Category, InventoryItem } from '../../types'\nimport { ICON_MAP } from '../../constants/icons'\nimport { generateId } from '../../utils/common'\nimport { InventoryItemCard } from '../../components/InventoryItemCard'\nimport { AddItemModal } from '../../components/AddItemModal'\nimport './index.scss'\n\nconst STORAGE_KEY = 'smart-fridge-inventory-v2'\n\nexport default function Index() {\n  const [items, setItems] = useState<InventoryItem[]>([])\n  const [filterCategory, setFilterCategory] = useState<Category | 'ALL'>('ALL')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [showTrash, setShowTrash] = useState(false)\n  const [isModalOpen, setIsModalOpen] = useState(false)\n\n  // åŠ è½½æ•°æ®\n  useEffect(() => {\n    try {\n      const saved = Taro.getStorageSync(STORAGE_KEY)\n      if (saved && saved.length > 0) {\n        setItems(saved)\n      } else {\n        setItems([\n          { id: '1', name: 'å…¨è„‚ç‰›å¥¶', quantity: 1, unit: 'L', category: Category.OTHER, addedDate: new Date(Date.now() - 86400000 * 1).toISOString(), isDeleted: false },\n          { id: '2', name: 'åŸºå›´è™¾', quantity: 20, unit: 'åª', category: Category.SEAFOOD, addedDate: new Date(Date.now() - 86400000 * 0).toISOString(), isDeleted: false },\n          { id: '3', name: 'ä¸Šæµ·é’', quantity: 3, unit: 'æŠŠ', category: Category.VEGETABLE, addedDate: new Date(Date.now() - 86400000 * 4).toISOString(), isDeleted: false },\n          { id: '4', name: 'æ¾³æ´²ç‰›æ’', quantity: 2, unit: 'å—', category: Category.MEAT, addedDate: new Date(Date.now() - 86400000 * 8).toISOString(), isDeleted: false },\n        ])\n      }\n    } catch (e) {\n      console.error(\"Failed to load inventory\", e)\n    }\n  }, [])\n\n  // ä¿å­˜æ•°æ®\n  useEffect(() => {\n    Taro.setStorageSync(STORAGE_KEY, items)\n  }, [items])\n\n  const handleAddItem = (newItem: Omit<InventoryItem, 'id' | 'addedDate' | 'isDeleted'>) => {\n    const item: InventoryItem = {\n      ...newItem,\n      id: generateId(),\n      addedDate: new Date().toISOString(),\n      isDeleted: false\n    }\n    setItems(prev => [item, ...prev])\n    Taro.showToast({ title: 'å·²æ·»åŠ ', icon: 'success' })\n  }\n\n  const moveToTrash = (id: string) => {\n    setItems(prev => prev.map(item => item.id === id ? { ...item, isDeleted: true } : item))\n    Taro.showToast({ title: 'å·²å›æ”¶', icon: 'none' })\n  }\n\n  const restoreFromTrash = (id: string) => {\n    setItems(prev => prev.map(item => item.id === id ? { ...item, isDeleted: false } : item))\n    Taro.showToast({ title: 'å·²æ¢å¤', icon: 'success' })\n  }\n\n  const deleteForever = (id: string) => {\n    setItems(prev => prev.filter(item => item.id !== id))\n  }\n\n  const handleUpdateQuantity = (id: string, delta: number) => {\n    setItems(prev => prev.map(item => {\n      if (item.id === id) {\n        const newQty = item.quantity + delta\n        return newQty > 0 ? { ...item, quantity: newQty } : item\n      }\n      return item\n    }))\n  }\n\n  const filteredItems = useMemo(() => {\n    return items.filter(item => {\n      if (showTrash) return item.isDeleted\n      if (item.isDeleted) return false\n      const matchesCategory = filterCategory === 'ALL' || item.category === filterCategory\n      const matchesSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase())\n      return matchesCategory && matchesSearch\n    }).sort((a, b) => new Date(b.addedDate).getTime() - new Date(a.addedDate).getTime())\n  }, [items, filterCategory, searchTerm, showTrash])\n\n  return (\n    <View className=\"min-h-screen bg-[#F6F7FB] pb-32 font-sans text-slate-900 animate-fade-in\">\n      \n      {/* ğŸ¨ UIå‡çº§ï¼šå¤´éƒ¨åŒºåŸŸï¼Œå¢åŠ é«˜åº¦å’Œç•™ç™½ */}\n      <View className=\"bg-white sticky top-0 z-10 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.03)] pb-2 rounded-b-[32px]\">\n        {/* ç¬¬ä¸€è¡Œï¼šæ ‡é¢˜ä¸å¼€å…³ */}\n        <View className=\"px-5 h-16 flex flex-row items-center justify-between mt-1\">\n          <View className=\"flex flex-row items-center gap-3\">\n            <View \n                onClick={() => setShowTrash(false)}\n                className={`flex flex-row items-center gap-2 px-4 py-2 rounded-full transition-all duration-300 ${!showTrash ? 'bg-slate-900 shadow-lg shadow-slate-200 scale-105' : 'bg-transparent'}`}\n            >\n               <Text className={!showTrash ? 'text-white font-bold text-lg' : 'text-slate-400 font-medium text-lg'}>\n                 æˆ‘çš„å†°ç®±\n               </Text>\n               {!showTrash && <View className=\"w-1.5 h-1.5 rounded-full bg-emerald-400\"></View>}\n            </View>\n\n            <View className=\"w-[1px] h-4 bg-slate-200 mx-1\"></View>\n\n            <View \n                onClick={() => setShowTrash(true)}\n                className={`flex flex-row items-center gap-2 px-3 py-2 rounded-full transition-all duration-300 ${showTrash ? 'bg-red-50 shadow-sm scale-105' : 'bg-transparent'}`}\n            >\n               <Text className={showTrash ? 'text-red-500 font-bold text-lg' : 'text-slate-400 font-medium text-lg'}>\n                 å›æ”¶ç«™\n               </Text>\n            </View>\n          </View>\n        </View>\n        \n        {/* ç¬¬äºŒè¡Œï¼šæœç´¢æ¡† (ä»…å†°ç®±æ¨¡å¼æ˜¾ç¤º) */}\n        {!showTrash && (\n          <View className=\"px-5 mb-3 mt-1\">\n             <View className=\"bg-slate-100/80 rounded-full px-4 py-2.5 flex flex-row items-center w-full transition-all focus-within:bg-white focus-within:ring-2 focus-within:ring-slate-900/10 focus-within:shadow-sm\">\n                 <Text className=\"mr-2 text-sm opacity-50\">{ICON_MAP.search}</Text>\n                 <Input \n                    className=\"text-sm w-full h-full text-slate-800\"\n                    placeholder=\"æœç´¢é£Ÿæ...\" \n                    placeholderClass=\"text-slate-400\"\n                    value={searchTerm}\n                    onInput={(e) => setSearchTerm(e.detail.value)}\n                 />\n             </View>\n          </View>\n        )}\n\n        {/* ç¬¬ä¸‰è¡Œï¼šåˆ†ç±»è¿‡æ»¤å™¨ (ä»…å†°ç®±æ¨¡å¼æ˜¾ç¤º) */}\n        {!showTrash && (\n          <ScrollView scrollX className=\"whitespace-nowrap px-5 w-full no-scrollbar\" showScrollbar={false}>\n            <View className=\"flex flex-row gap-2 pb-2\">\n              <View \n                onClick={() => setFilterCategory('ALL')}\n                className={`px-5 py-2 rounded-full transition-all duration-300 border ${filterCategory === 'ALL' ? 'bg-slate-900 border-slate-900 shadow-md shadow-slate-200' : 'bg-white border-slate-100 text-slate-500'}`}\n              >\n                <Text className={`text-xs font-bold ${filterCategory === 'ALL' ? 'text-white' : 'text-slate-500'}`}>å…¨éƒ¨</Text>\n              </View>\n              {Object.values(Category).map(cat => (\n                <View \n                  key={cat}\n                  onClick={() => setFilterCategory(cat)}\n                  className={`px-5 py-2 rounded-full transition-all duration-300 border ${filterCategory === cat ? 'bg-slate-900 border-slate-900 shadow-md shadow-slate-200' : 'bg-white border-slate-100'}`}\n                >\n                  <Text className={`text-xs font-bold ${filterCategory === cat ? 'text-white' : 'text-slate-500'}`}>{cat}</Text>\n                </View>\n              ))}\n            </View>\n          </ScrollView>\n        )}\n      </View>\n\n      {/* åˆ—è¡¨åŒºåŸŸ */}\n      <View className=\"px-4 py-5\">\n        {filteredItems.length === 0 ? (\n          <View className=\"flex flex-col items-center justify-center py-32 text-center opacity-60\">\n            <View className={`w-24 h-24 rounded-[32px] flex items-center justify-center mb-6 shadow-sm ${showTrash ? 'bg-red-50' : 'bg-white'}`}>\n              <Text className=\"text-5xl opacity-80\">\n                {showTrash ? ICON_MAP.trash : ICON_MAP.package}\n              </Text>\n            </View>\n            <Text className=\"text-slate-400 font-medium text-sm mb-1\">\n              {showTrash ? \"å›æ”¶ç«™ç©ºç©ºå¦‚ä¹Ÿ\" : \"å†°ç®±é‡Œä»€ä¹ˆéƒ½æ²¡æœ‰\"}\n            </Text>\n            {!showTrash && <Text className=\"text-slate-300 text-xs\">ç‚¹å³ä¸‹è§’åŠ ç‚¹å¥½åƒçš„å§</Text>}\n          </View>\n        ) : (\n          filteredItems.map(item => (\n            <InventoryItemCard \n              key={item.id}\n              item={item}\n              showTrash={showTrash}\n              onUpdateQuantity={handleUpdateQuantity}\n              onMoveToTrash={moveToTrash}\n              onRestore={restoreFromTrash}\n              onDeleteForever={deleteForever}\n            />\n          ))\n        )}\n      </View>\n\n      {/* æ‚¬æµ®æŒ‰é’® (FAB) - å¢åŠ å‘¼å¸åŠ¨æ•ˆ */}\n      {!showTrash && (\n        <View\n          onClick={() => setIsModalOpen(true)}\n          className=\"fixed bottom-10 right-6 w-16 h-16 bg-slate-900 rounded-[24px] shadow-xl shadow-slate-900/30 flex items-center justify-center z-40 active:scale-90 transition-transform duration-200\"\n        >\n          <Text className=\"text-white text-3xl mb-1\">{ICON_MAP.plus}</Text>\n        </View>\n      )}\n\n      <AddItemModal \n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        onAdd={handleAddItem}\n      />\n    </View>\n  )\n}","import { View, Text, Input } from '@tarojs/components'\nimport { useState } from 'react'\nimport { Category, InventoryItem } from '../types'\n\ninterface Props {\n  isOpen: boolean\n  onClose: () => void\n  onAdd: (item: Omit<InventoryItem, 'id' | 'addedDate' | 'isDeleted'>) => void\n}\n\nexport function AddItemModal({ isOpen, onClose, onAdd }: Props) {\n  const [name, setName] = useState('')\n  const [quantity, setQuantity] = useState('1')\n  const [unit, setUnit] = useState('ä¸ª')\n  const [category, setCategory] = useState<Category>(Category.OTHER)\n\n  if (!isOpen) return null\n\n  const handleSubmit = () => {\n    if (!name.trim()) return\n    onAdd({\n      name,\n      quantity: parseFloat(quantity) || 1,\n      unit,\n      category\n    })\n    // æäº¤åé‡ç½®è¡¨å•\n    setName('')\n    setQuantity('1')\n    setUnit('ä¸ª')\n    setCategory(Category.OTHER)\n    onClose()\n  }\n\n  return (\n    <View className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* é»‘è‰²åŠé€æ˜èƒŒæ™¯é®ç½© */}\n      <View \n        className=\"absolute inset-0 bg-black/50 transition-opacity\" \n        onClick={onClose}\n      />\n      \n      {/* å¼¹çª—ä¸»ä½“ */}\n      <View className=\"relative bg-white w-[85%] rounded-3xl p-6 z-10 shadow-2xl\">\n        <Text className=\"text-xl font-bold text-slate-900 mb-6 block text-center\">æ·»åŠ æ–°é£Ÿæ</Text>\n        \n        {/* è¾“å…¥åç§° */}\n        <View className=\"mb-4\">\n            <Text className=\"text-xs text-slate-500 mb-2 block font-medium\">åç§°</Text>\n            <Input \n                className=\"bg-slate-50 p-3 rounded-xl text-slate-800 text-base h-11\"\n                placeholder=\"ä¾‹å¦‚: é¸¡è›‹\"\n                placeholderClass=\"text-slate-400\"\n                value={name}\n                onInput={e => setName(e.detail.value)}\n            />\n        </View>\n\n        {/* æ•°é‡å’Œå•ä½ (å¹¶æ’æ˜¾ç¤º) */}\n        <View className=\"flex flex-row gap-3 mb-5\">\n            <View className=\"flex-1\">\n                <Text className=\"text-xs text-slate-500 mb-2 block font-medium\">æ•°é‡</Text>\n                <Input \n                    type=\"digit\"\n                    className=\"bg-slate-50 p-3 rounded-xl text-slate-800 text-base h-11\"\n                    value={quantity}\n                    onInput={e => setQuantity(e.detail.value)}\n                />\n            </View>\n            <View className=\"flex-1\">\n                <Text className=\"text-xs text-slate-500 mb-2 block font-medium\">å•ä½</Text>\n                <Input \n                    className=\"bg-slate-50 p-3 rounded-xl text-slate-800 text-base h-11\"\n                    value={unit}\n                    onInput={e => setUnit(e.detail.value)}\n                />\n            </View>\n        </View>\n\n        {/* åˆ†ç±»é€‰æ‹© (æ ‡ç­¾å½¢å¼) */}\n        <View className=\"mb-8\">\n            <Text className=\"text-xs text-slate-500 mb-2 block font-medium\">åˆ†ç±»</Text>\n            <View className=\"flex flex-row flex-wrap gap-2\">\n                {Object.values(Category).map(cat => (\n                    <View \n                        key={cat}\n                        onClick={() => setCategory(cat)}\n                        className={`px-3 py-1.5 rounded-lg border transition-all ${\n                            category === cat \n                            ? 'bg-slate-900 border-slate-900' \n                            : 'bg-white border-slate-200'\n                        }`}\n                    >\n                        <Text className={`text-xs font-bold ${category === cat ? 'text-white' : 'text-slate-600'}`}>\n                            {cat}\n                        </Text>\n                    </View>\n                ))}\n            </View>\n        </View>\n\n        {/* åº•éƒ¨æŒ‰é’® */}\n        <View className=\"flex flex-row gap-3\">\n            <View \n                onClick={onClose}\n                className=\"flex-1 bg-slate-100 h-12 rounded-xl flex items-center justify-center active:bg-slate-200\"\n            >\n                <Text className=\"text-slate-600 font-bold\">å–æ¶ˆ</Text>\n            </View>\n            <View \n                onClick={handleSubmit}\n                className=\"flex-1 bg-slate-900 h-12 rounded-xl flex items-center justify-center active:bg-slate-800\"\n            >\n                <Text className=\"text-white font-bold\">ä¿å­˜</Text>\n            </View>\n        </View>\n      </View>\n    </View>\n  )\n}","import { View, Text } from '@tarojs/components'\nimport { InventoryItem, Category } from '../types'\nimport { ICON_MAP } from '../constants/icons'\nimport { getDaysStored, getFreshnessColor, formatDate } from '../utils/common'\n\ninterface Props {\n  item: InventoryItem\n  showTrash: boolean\n  onUpdateQuantity: (id: string, delta: number) => void\n  onMoveToTrash: (id: string) => void\n  onRestore: (id: string) => void\n  onDeleteForever: (id: string) => void\n}\n\nexport function InventoryItemCard({\n  item,\n  showTrash,\n  onUpdateQuantity,\n  onMoveToTrash,\n  onRestore,\n  onDeleteForever\n}: Props) {\n  const daysStored = getDaysStored(item.addedDate)\n  const freshStatus = getFreshnessColor(daysStored)\n\n  // ğŸ¨ UIå‡çº§ï¼šä½é¥±å’Œåº¦è«å…°è¿ªè‰²ç³»\n  // èƒŒæ™¯ä½¿ç”¨æœ€æ·¡çš„ 50ï¼Œå›¾æ ‡ä½¿ç”¨ 500 æˆ–è‡ªå®šä¹‰ hexï¼Œé¿å…é«˜å¯¹æ¯”åº¦\n  const getCategoryTheme = (cat: Category) => {\n    switch (cat) {\n      case Category.MEAT: \n        // è‚‰ç±»ï¼šæ·¡ç²‰çº¢èƒŒæ™¯ + æŸ”å’Œçº¢å›¾æ ‡\n        return { icon: ICON_MAP.meat, bg: 'bg-red-50', text: 'text-red-400' }\n      case Category.VEGETABLE: \n        // è”¬èœï¼šæ·¡ç»¿èƒŒæ™¯ + æ£®æ—ç»¿å›¾æ ‡\n        return { icon: ICON_MAP.vegetable, bg: 'bg-green-50', text: 'text-green-500' }\n      case Category.FRUIT: \n        // æ°´æœï¼šæ·¡æ©™èƒŒæ™¯ + æš–æ©™å›¾æ ‡\n        return { icon: ICON_MAP.fruit, bg: 'bg-orange-50', text: 'text-orange-400' }\n      case Category.SEAFOOD: \n        // æµ·é²œï¼šæ·¡è“èƒŒæ™¯ + å¤©ç©ºè“å›¾æ ‡\n        return { icon: ICON_MAP.seafood, bg: 'bg-sky-50', text: 'text-sky-500' }\n      default: \n        // å…¶ä»–ï¼šæ·¡ç°èƒŒæ™¯ + ç°è‰²å›¾æ ‡\n        return { icon: ICON_MAP.package, bg: 'bg-slate-50', text: 'text-slate-400' }\n    }\n  }\n\n  const theme = getCategoryTheme(item.category)\n\n  return (\n    <View className=\"bg-white p-4 rounded-[24px] shadow-[0_2px_15px_rgba(0,0,0,0.02)] mb-3 flex flex-row items-center justify-between gap-3 active:scale-[0.99] transition-transform duration-200 border border-slate-50\">\n      \n      {/* å·¦ä¾§ï¼šå›¾æ ‡ä¸ä¿¡æ¯ */}\n      <View className=\"flex flex-row items-center gap-3 flex-1 min-w-0\">\n        {/* å›¾æ ‡å®¹å™¨ï¼šèƒŒæ™¯è‰²ææ·¡ */}\n        <View className={`w-14 h-14 rounded-[20px] flex items-center justify-center flex-shrink-0 ${theme.bg}`}>\n          {/* å›¾æ ‡é¢œè‰²ä¹Ÿè°ƒæŸ”å’Œäº† */}\n          <Text className={`text-2xl ${theme.text}`}>{theme.icon}</Text>\n        </View>\n        \n        <View className=\"flex-1 min-w-0\">\n          <Text className=\"font-bold text-slate-700 text-lg leading-tight block mb-1.5 truncate\">\n            {item.name}\n          </Text>\n          \n          <View className=\"flex flex-row items-center gap-2 flex-wrap\">\n            {/* æ—¥æœŸï¼šçº¯ç°è‰²ï¼Œé™ä½å­˜åœ¨æ„Ÿ */}\n            <Text className=\"text-xs text-slate-400 font-medium bg-slate-50 px-2 py-1 rounded-lg\">\n              {formatDate(item.addedDate)}\n            </Text>\n            \n            {/* æ–°é²œåº¦æ ‡ç­¾ */}\n            {!showTrash && (\n              <View className={`px-2 py-1 rounded-lg ${freshStatus.bg}`}>\n                <Text className={`text-xs font-medium ${freshStatus.text}`}>\n                   {daysStored} å¤©\n                </Text>\n              </View>\n            )}\n          </View>\n        </View>\n      </View>\n\n      {/* å³ä¾§ï¼šæ“ä½œåŒº */}\n      <View className=\"flex flex-row items-center pl-1 flex-shrink-0\">\n        {showTrash ? (\n          <View className=\"flex flex-row gap-2\">\n            <View \n              onClick={(e) => { e.stopPropagation(); onRestore(item.id) }}\n              className=\"w-10 h-10 rounded-full bg-green-50 flex items-center justify-center active:scale-90\"\n            >\n              <Text className=\"text-sm\">{ICON_MAP.restore}</Text>\n            </View>\n            <View \n              onClick={(e) => { e.stopPropagation(); onDeleteForever(item.id) }}\n              className=\"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center active:scale-90\"\n            >\n              <Text className=\"text-sm\">{ICON_MAP.deleteForever}</Text>\n            </View>\n          </View>\n        ) : (\n          <View className=\"flex flex-row items-center gap-2\">\n            {/* æ•°é‡æ§åˆ¶å™¨ï¼šæ›´æ·¡çš„è¾¹æ¡† */}\n            <View className=\"flex flex-row items-center bg-white rounded-full p-1 h-9 border border-slate-100 shadow-sm\">\n              <View \n                onClick={(e) => { e.stopPropagation(); onUpdateQuantity(item.id, -1) }}\n                className=\"w-7 h-full flex items-center justify-center rounded-full active:bg-slate-50\"\n              >\n                <Text className=\"text-slate-300 font-bold text-sm mb-[2px]\">{ICON_MAP.subtract}</Text>\n              </View>\n              \n              <View className=\"w-8 flex items-center justify-center\">\n                <Text className=\"font-bold text-slate-700 text-sm\">{item.quantity}</Text>\n              </View>\n              \n              <View \n                onClick={(e) => { e.stopPropagation(); onUpdateQuantity(item.id, 1) }}\n                className=\"w-7 h-full flex items-center justify-center rounded-full active:bg-slate-50\"\n              >\n                <Text className=\"text-slate-300 font-bold text-sm mb-[2px]\">{ICON_MAP.add}</Text>\n              </View>\n            </View>\n\n            {/* å•ä½ */}\n            <Text className=\"text-sm font-medium text-slate-400 w-6 text-center\">\n                {item.unit}\n            </Text>\n\n            {/* åˆ é™¤æŒ‰é’® */}\n            <View \n              onClick={(e) => { e.stopPropagation(); onMoveToTrash(item.id) }}\n              className=\"w-8 h-8 flex items-center justify-center rounded-full text-slate-300 active:text-red-400 transition-colors\"\n            >\n              <Text className=\"text-sm opacity-50\">{ICON_MAP.trash}</Text>\n            </View>\n          </View>\n        )}\n      </View>\n    </View>\n  )\n}","export const ICON_MAP = {\n  refrigerator: 'ğŸ§Š', // å†°ç®±\n  trash: 'ğŸ—‘ï¸',        // åƒåœ¾æ¡¶/å›æ”¶ç«™\n  search: 'ğŸ”',       // æœç´¢\n  plus: 'â•',         // æ·»åŠ \n  restore: 'â†©ï¸',      // æ¢å¤\n  deleteForever: 'âŒ',// å½»åº•åˆ é™¤\n  meat: 'ğŸ¥©',         // è‚‰ç±»\n  vegetable: 'ğŸ¥¬',    // è”¬èœ\n  fruit: 'ğŸ’',        // æ°´æœ\n  seafood: 'ğŸ¦',      // æµ·é²œ\n  other: 'ğŸ“¦',        // å…¶ä»–\n  package: 'ğŸ¥¡',      // é»˜è®¤åŒ…è£…\n  add: 'â•',\n  subtract: 'â–'\n};","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/index/index!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"é¦–é¡µ\"};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/index/index', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n","export enum Category {\n  MEAT = 'è‚‰ç±»',\n  VEGETABLE = 'è”¬èœ',\n  FRUIT = 'æ°´æœ',\n  SEAFOOD = 'æµ·é²œ',\n  OTHER = 'å…¶ä»–'\n}\n\nexport interface InventoryItem {\n  id: string;\n  name: string;\n  quantity: number;\n  unit: string;\n  category: Category;\n  addedDate: string; // ISO date string\n  isDeleted?: boolean; // Trash flag\n}\n\nexport interface Recipe {\n  name: string;\n  difficulty: string;\n  time: string;\n  ingredientsUsed: string[];\n  instructions: string[];\n}","// 1. ç”Ÿæˆç®€å• ID\nexport const generateId = () => Math.random().toString(36).substring(2, 11);\n\n// 2. è®¡ç®—å­˜å‚¨å¤©æ•°\nexport const getDaysStored = (dateStr: string) => {\n  const added = new Date(dateStr);\n  const now = new Date();\n  const diffTime = Math.abs(now.getTime() - added.getTime());\n  return Math.floor(diffTime / (1000 * 60 * 60 * 24)); \n};\n\n// 3. æ ¼å¼åŒ–æ—¥æœŸ (YYYYMMDD)\nexport const formatDate = (dateStr: string) => {\n  const d = new Date(dateStr);\n  const year = d.getFullYear();\n  const month = String(d.getMonth() + 1).padStart(2, '0');\n  const day = String(d.getDate()).padStart(2, '0');\n  return `${year}${month}${day}`;\n};\n\n// 4. è·å–æ–°é²œåº¦é¢œè‰² (ğŸ¨ è°ƒè‰²æ¿ä¼˜åŒ–ï¼šæ›´æŸ”å’Œçš„ä½é¥±å’Œåº¦é…è‰²)\nexport const getFreshnessColor = (days: number) => {\n  if (days <= 3) {\n    // æ–°é²œï¼šç”±åŸæ¥çš„ Emerald æ”¹ä¸ºæ›´è‡ªç„¶çš„ Greenï¼Œå­—è‰²å˜æ·±ä¸€ç‚¹ç‚¹ä»¥ä¿è¯æ¸…æ™°åº¦ï¼ŒèƒŒæ™¯ææ·¡\n    return { bg: 'bg-[#F0FDF4]', text: 'text-[#166534]', border: 'border-green-100', label: 'æ–°é²œ' };\n  }\n  if (days <= 7) {\n    // è‰¯ï¼šç”± Amber æ”¹ä¸º Orangeï¼Œå»æ‰äº†åˆºçœ¼çš„é»„è‰²æ„Ÿ\n    return { bg: 'bg-[#FFF7ED]', text: 'text-[#9A3412]', border: 'border-orange-100', label: 'è‰¯' };\n  }\n  // ä¹…ç½®ï¼šç”± Rose æ”¹ä¸º Slate/Red æ··åˆï¼Œé™ä½è­¦ç¤ºæ„Ÿï¼Œå¢åŠ é«˜çº§æ„Ÿ\n  return { bg: 'bg-[#FEF2F2]', text: 'text-[#991B1B]', border: 'border-red-100', label: 'ä¹…ç½®' };\n};"],"names":[],"sourceRoot":""}